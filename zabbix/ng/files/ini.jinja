{%- set exclude = ['TLSPSK', 'DBDir'] -%}

{%- macro set_config(config, spacer='=') -%}
{% for parameter in config | sort -%}
{% if parameter not in exclude -%}
{% set value = config.get(parameter) -%}
{% if value is mapping -%}
{{ set_config(value) }}
{%- elif value is sequence and value is not string -%}
{% for item in value -%}
{{ parameter }}{{ spacer }}{{ item }}
{% endfor -%}
{%- elif value is not none -%}
{{ parameter }}{{ spacer }}{{ value }}
{% endif -%}
{% endif -%}
{% endfor -%}
{% endmacro -%}

#
# **** DO NOT EDIT THIS FILE ****
# 
# This file is managed by Salt
#

{% if config -%}
{{ set_config(config) }}
{% endif -%}
